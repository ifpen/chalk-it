<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:6,&quot;tests&quot;:3,&quot;passes&quot;:1,&quot;pending&quot;:0,&quot;failures&quot;:2,&quot;start&quot;:&quot;2024-03-22T16:25:59.681Z&quot;,&quot;end&quot;:&quot;2024-03-22T16:26:54.568Z&quot;,&quot;duration&quot;:54887,&quot;testsRegistered&quot;:4,&quot;passPercent&quot;:25,&quot;pendingPercent&quot;:0,&quot;other&quot;:1,&quot;hasOther&quot;:true,&quot;skipped&quot;:1,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;700d8184-eaa6-4a03-9eba-9aa367a151bd&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;65791de0-3edd-42e6-9467-a2d18ba13d53&quot;,&quot;title&quot;:&quot;Widget creation&quot;,&quot;fullFile&quot;:&quot;D:\\Repos\\chalk-it\\e2e\\build\\test\\basic-widgets.spec.js&quot;,&quot;file&quot;:&quot;\\build\\test\\basic-widgets.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Widget creation\&quot;&quot;,&quot;fullTitle&quot;:&quot;Widget creation \&quot;before all\&quot; hook in \&quot;Widget creation\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await server.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec51d3ba-183a-4cbe-85fd-8d3d25f4769a&quot;,&quot;parentUUID&quot;:&quot;65791de0-3edd-42e6-9467-a2d18ba13d53&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Widget creation\&quot;&quot;,&quot;fullTitle&quot;:&quot;Widget creation \&quot;after all\&quot; hook in \&quot;Widget creation\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await server.stop();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30a92fa6-0a70-43ac-be57-3541b98a64a2&quot;,&quot;parentUUID&quot;:&quot;65791de0-3edd-42e6-9467-a2d18ba13d53&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3a64d3a8-6b95-4c27-a5b1-9a152990d580&quot;,&quot;title&quot;:&quot;Using chrome&quot;,&quot;fullFile&quot;:&quot;D:\\Repos\\chalk-it\\e2e\\build\\test\\basic-widgets.spec.js&quot;,&quot;file&quot;:&quot;\\build\\test\\basic-widgets.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook for \&quot;Text area\&quot;&quot;,&quot;fullTitle&quot;:&quot;Widget creation Using chrome \&quot;before each\&quot; hook for \&quot;Text area\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30387,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const width = config.width;\nconst height = config.height;\nconst builder = new Builder().withCapabilities({\n    [Capability.LOGGING_PREFS]: { browser: &#x27;ALL&#x27; },\n    [Capability.BROWSER_NAME]: browser,\n});\nswitch (browser) {\n    case Browser.CHROME:\n        let chromeOptions = new ChromeOptions().windowSize({ width, height });\n        if (config.headless) {\n            chromeOptions = chromeOptions.addArguments(&#x27;--headless=new&#x27;);\n        }\n        builder.setChromeOptions(chromeOptions);\n        break;\n    case Browser.FIREFOX:\n        let ffOptions = new FirefoxOptions().windowSize({ width, height });\n        if (config.headless) {\n            ffOptions = ffOptions.addArguments(&#x27;--headless&#x27;);\n        }\n        builder.setFirefoxOptions(ffOptions);\n        break;\n    case Browser.EDGE:\n        let edgeOptions = new EdgeOptions().windowSize({ width, height });\n        if (config.headless) {\n            edgeOptions = edgeOptions.addArguments(&#x27;--headless&#x27;);\n        }\n        builder.setEdgeOptions(edgeOptions);\n        break;\n    default:\n        throw new Error(`Unknown browser ${browser}`);\n}\ndriver = await builder.build();&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Timeout of 20000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (D:\\Repos\\chalk-it\\e2e\\build\\test\\basic-widgets.spec.js)&quot;,&quot;estack&quot;:&quot;Error: Timeout of 20000ms exceeded. For async tests and hooks, ensure \&quot;done()\&quot; is called; if returning a Promise, ensure it resolves. (D:\\Repos\\chalk-it\\e2e\\build\\test\\basic-widgets.spec.js)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;76fc15c0-ad44-45c8-9360-07dd513411df&quot;,&quot;parentUUID&quot;:&quot;3a64d3a8-6b95-4c27-a5b1-9a152990d580&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Using chrome\&quot;&quot;,&quot;fullTitle&quot;:&quot;Widget creation Using chrome \&quot;after each\&quot; hook in \&quot;Using chrome\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:253,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (driver) {\n    const logTypes = await driver.manage().logs().getAvailableLogTypes();\n    for (const logType of logTypes) {\n        const log = await driver.manage().logs().get(logType);\n        if (log.length) {\n            const targetFile = logNameProvider(this.currentTest, browser, logType);\n            const fh = await fs.promises.open(targetFile, &#x27;w&#x27;);\n            const stream = fh.createWriteStream({ encoding: &#x27;utf8&#x27; });\n            for (const entry of log) {\n                stream.write(JSON.stringify(entry.toJSON()));\n                stream.write(&#x27;\\n&#x27;);\n            }\n            stream.end();\n            await fh.close();\n        }\n    }\n}\n//await sleep(100000)\nawait driver?.close();\ndriver = undefined;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f89b64fa-6f06-4284-a22e-37951d56f3dc&quot;,&quot;parentUUID&quot;:&quot;3a64d3a8-6b95-4c27-a5b1-9a152990d580&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Text area&quot;,&quot;fullTitle&quot;:&quot;Widget creation Using chrome Text area&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const driver = driverFixture();\nconst editor = await openEditor(server, driver);\nassert.ok(await editor.startPage.isGuidedTourTextVisible(), &#x27;Not on welcome page&#x27;);\nconst dashboard = await editor.startPage.toMyProject();\ndashboard.waitWidgetAreaExists();\nconst widgetToolbox = await dashboard.toolboxPanel.openWidgetToolbox();\nawait widgetToolbox.createFlatUiTextInput();\nassert.equal((await driverFixture().findElements(By.id(&#x27;flatUiTextInputA&#x27;))).length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2331e798-edcc-49f6-9a22-812c05dcc186&quot;,&quot;parentUUID&quot;:&quot;3a64d3a8-6b95-4c27-a5b1-9a152990d580&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2331e798-edcc-49f6-9a22-812c05dcc186&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;60dc62f3-363d-4bdf-883b-e7b75093ff5a&quot;,&quot;title&quot;:&quot;Using MicrosoftEdge&quot;,&quot;fullFile&quot;:&quot;D:\\Repos\\chalk-it\\e2e\\build\\test\\basic-widgets.spec.js&quot;,&quot;file&quot;:&quot;\\build\\test\\basic-widgets.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Using MicrosoftEdge\&quot;&quot;,&quot;fullTitle&quot;:&quot;Widget creation Using MicrosoftEdge \&quot;before each\&quot; hook in \&quot;Using MicrosoftEdge\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7997,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const width = config.width;\nconst height = config.height;\nconst builder = new Builder().withCapabilities({\n    [Capability.LOGGING_PREFS]: { browser: &#x27;ALL&#x27; },\n    [Capability.BROWSER_NAME]: browser,\n});\nswitch (browser) {\n    case Browser.CHROME:\n        let chromeOptions = new ChromeOptions().windowSize({ width, height });\n        if (config.headless) {\n            chromeOptions = chromeOptions.addArguments(&#x27;--headless=new&#x27;);\n        }\n        builder.setChromeOptions(chromeOptions);\n        break;\n    case Browser.FIREFOX:\n        let ffOptions = new FirefoxOptions().windowSize({ width, height });\n        if (config.headless) {\n            ffOptions = ffOptions.addArguments(&#x27;--headless&#x27;);\n        }\n        builder.setFirefoxOptions(ffOptions);\n        break;\n    case Browser.EDGE:\n        let edgeOptions = new EdgeOptions().windowSize({ width, height });\n        if (config.headless) {\n            edgeOptions = edgeOptions.addArguments(&#x27;--headless&#x27;);\n        }\n        builder.setEdgeOptions(edgeOptions);\n        break;\n    default:\n        throw new Error(`Unknown browser ${browser}`);\n}\ndriver = await builder.build();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5dc5bb4-e5f2-4d11-8107-479ac0a6042f&quot;,&quot;parentUUID&quot;:&quot;60dc62f3-363d-4bdf-883b-e7b75093ff5a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Using MicrosoftEdge\&quot;&quot;,&quot;fullTitle&quot;:&quot;Widget creation Using MicrosoftEdge \&quot;after each\&quot; hook in \&quot;Using MicrosoftEdge\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:61,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (driver) {\n    const logTypes = await driver.manage().logs().getAvailableLogTypes();\n    for (const logType of logTypes) {\n        const log = await driver.manage().logs().get(logType);\n        if (log.length) {\n            const targetFile = logNameProvider(this.currentTest, browser, logType);\n            const fh = await fs.promises.open(targetFile, &#x27;w&#x27;);\n            const stream = fh.createWriteStream({ encoding: &#x27;utf8&#x27; });\n            for (const entry of log) {\n                stream.write(JSON.stringify(entry.toJSON()));\n                stream.write(&#x27;\\n&#x27;);\n            }\n            stream.end();\n            await fh.close();\n        }\n    }\n}\n//await sleep(100000)\nawait driver?.close();\ndriver = undefined;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;172a6324-b0ba-4824-af14-d1c8211e3e5d&quot;,&quot;parentUUID&quot;:&quot;60dc62f3-363d-4bdf-883b-e7b75093ff5a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Text area&quot;,&quot;fullTitle&quot;:&quot;Widget creation Using MicrosoftEdge Text area&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3002,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const driver = driverFixture();\nconst editor = await openEditor(server, driver);\nassert.ok(await editor.startPage.isGuidedTourTextVisible(), &#x27;Not on welcome page&#x27;);\nconst dashboard = await editor.startPage.toMyProject();\ndashboard.waitWidgetAreaExists();\nconst widgetToolbox = await dashboard.toolboxPanel.openWidgetToolbox();\nawait widgetToolbox.createFlatUiTextInput();\nassert.equal((await driverFixture().findElements(By.id(&#x27;flatUiTextInputA&#x27;))).length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25e6c1d7-f439-4b70-a5d0-7a02c44dcc3d&quot;,&quot;parentUUID&quot;:&quot;60dc62f3-363d-4bdf-883b-e7b75093ff5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;25e6c1d7-f439-4b70-a5d0-7a02c44dcc3d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3002,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;007449a7-4495-46e6-9441-81465716d94c&quot;,&quot;title&quot;:&quot;Visual Tests&quot;,&quot;fullFile&quot;:&quot;D:\\Repos\\chalk-it\\e2e\\build\\test\\dashboard-display.spec.js&quot;,&quot;file&quot;:&quot;\\build\\test\\dashboard-display.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Visual Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;Visual Tests \&quot;before all\&quot; hook in \&quot;Visual Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await server.start();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f3f18a9-b1ab-4c62-a861-359c638bc107&quot;,&quot;parentUUID&quot;:&quot;007449a7-4495-46e6-9441-81465716d94c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Visual Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;Visual Tests \&quot;before all\&quot; hook in \&quot;Visual Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missing = TEST_CASES.filter(function (testCase) {\n    const testFile = getDashboardFile(testCase);\n    return !fs.existsSync(testFile) || !fs.statSync(testFile).isFile();\n});\nif (missing.length) {\n    throw new Error(`Resources are missing or are not files: ${missing.join(&#x27;, &#x27;)}`);\n}\nTEST_CASES.forEach((testCase, idx) =&gt; server.registerDashboardFile(getDashboardFile(testCase), idx.toString()));\nif (config.outputsDir) {\n    if (fs.existsSync(config.outputsDir)) {\n        const files = await fs.promises.readdir(config.outputsDir);\n        await Promise.all(files.map((file) =&gt; fs.promises.unlink(path.join(config.outputsDir, file))));\n    }\n    else {\n        fs.mkdirSync(config.outputsDir, { recursive: true });\n    }\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5720db97-8b01-4e39-be97-db9d100c08fb&quot;,&quot;parentUUID&quot;:&quot;007449a7-4495-46e6-9441-81465716d94c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Visual Tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;Visual Tests \&quot;after all\&quot; hook in \&quot;Visual Tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await server.stop();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1b24b15-68ad-4a4e-b73a-0219687a0fdf&quot;,&quot;parentUUID&quot;:&quot;007449a7-4495-46e6-9441-81465716d94c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;804a7d55-bbd1-4449-a007-e5f837c73b64&quot;,&quot;title&quot;:&quot;Using chrome&quot;,&quot;fullFile&quot;:&quot;D:\\Repos\\chalk-it\\e2e\\build\\test\\dashboard-display.spec.js&quot;,&quot;file&quot;:&quot;\\build\\test\\dashboard-display.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Using chrome\&quot;&quot;,&quot;fullTitle&quot;:&quot;Visual Tests Using chrome \&quot;before each\&quot; hook in \&quot;Using chrome\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1456,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const width = config.width;\nconst height = config.height;\nconst builder = new Builder().withCapabilities({\n    [Capability.LOGGING_PREFS]: { browser: &#x27;ALL&#x27; },\n    [Capability.BROWSER_NAME]: browser,\n});\nswitch (browser) {\n    case Browser.CHROME:\n        let chromeOptions = new ChromeOptions().windowSize({ width, height });\n        if (config.headless) {\n            chromeOptions = chromeOptions.addArguments(&#x27;--headless=new&#x27;);\n        }\n        builder.setChromeOptions(chromeOptions);\n        break;\n    case Browser.FIREFOX:\n        let ffOptions = new FirefoxOptions().windowSize({ width, height });\n        if (config.headless) {\n            ffOptions = ffOptions.addArguments(&#x27;--headless&#x27;);\n        }\n        builder.setFirefoxOptions(ffOptions);\n        break;\n    case Browser.EDGE:\n        let edgeOptions = new EdgeOptions().windowSize({ width, height });\n        if (config.headless) {\n            edgeOptions = edgeOptions.addArguments(&#x27;--headless&#x27;);\n        }\n        builder.setEdgeOptions(edgeOptions);\n        break;\n    default:\n        throw new Error(`Unknown browser ${browser}`);\n}\ndriver = await builder.build();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f63113e7-a016-4bee-8e8e-724cc2f8ab69&quot;,&quot;parentUUID&quot;:&quot;804a7d55-bbd1-4449-a007-e5f837c73b64&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Using chrome\&quot;&quot;,&quot;fullTitle&quot;:&quot;Visual Tests Using chrome \&quot;after each\&quot; hook in \&quot;Using chrome\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:135,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (driver) {\n    const logTypes = await driver.manage().logs().getAvailableLogTypes();\n    for (const logType of logTypes) {\n        const log = await driver.manage().logs().get(logType);\n        if (log.length) {\n            const targetFile = logNameProvider(this.currentTest, browser, logType);\n            const fh = await fs.promises.open(targetFile, &#x27;w&#x27;);\n            const stream = fh.createWriteStream({ encoding: &#x27;utf8&#x27; });\n            for (const entry of log) {\n                stream.write(JSON.stringify(entry.toJSON()));\n                stream.write(&#x27;\\n&#x27;);\n            }\n            stream.end();\n            await fh.close();\n        }\n    }\n}\n//await sleep(100000)\nawait driver?.close();\ndriver = undefined;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebe82cf5-2fce-4287-9666-0e5a7d971e3b&quot;,&quot;parentUUID&quot;:&quot;804a7d55-bbd1-4449-a007-e5f837c73b64&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;resources/list-js.xprjson&quot;,&quot;fullTitle&quot;:&quot;Visual Tests Using chrome resources/list-js.xprjson&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3949,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const driver = driverFixture();\nconst expectedBuffer = fs.promises.readFile(screenshotReference(testCase, browser));\nawait driver.get(server.getDashboardUrl(idx.toString()));\nconst dashboardEditor = new DashboardEditor(driver);\nawait dashboardEditor.dashboardPage.waitWidgetAreaExists();\n// If not reliable, add small safety wait.\nawait dashboardEditor.waitNotLoading();\nconst encodedString = await driver.takeScreenshot();\nif (config.outputsDir) {\n    await fs.promises.writeFile(screenshotResult(config.outputsDir, testCaseFile, browser), encodedString, &#x27;base64&#x27;);\n}\nconst actualPng = PNG.sync.read(Buffer.from(encodedString, &#x27;base64&#x27;));\nconst expectedPng = PNG.sync.read(await expectedBuffer);\nconst result = diffScreenshots(expectedPng, actualPng);\nif (result) {\n    const [diff, mismatchedPixels] = result;\n    if (config.outputsDir) {\n        await pipeline(diff.pack(), fs.createWriteStream(path.join(config.outputsDir, diffName(testCaseFile, browser))));\n    }\n    assert.equal(mismatchedPixels, 0);\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: 37 == 0&quot;,&quot;estack&quot;:&quot;AssertionError [ERR_ASSERTION]: 37 == 0\n    at Context.&lt;anonymous&gt; (file:///D:/Repos/chalk-it/e2e/build/test/dashboard-display.spec.js:79:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;,&quot;diff&quot;:&quot;- 37\n+ 0\n&quot;},&quot;uuid&quot;:&quot;9f2034de-3347-4df6-ab3f-7d3ceba05523&quot;,&quot;parentUUID&quot;:&quot;804a7d55-bbd1-4449-a007-e5f837c73b64&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;9f2034de-3347-4df6-ab3f-7d3ceba05523&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3949,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000},{&quot;uuid&quot;:&quot;53d496ca-c30d-4f7f-93b6-25ae46884a2d&quot;,&quot;title&quot;:&quot;Using MicrosoftEdge&quot;,&quot;fullFile&quot;:&quot;D:\\Repos\\chalk-it\\e2e\\build\\test\\dashboard-display.spec.js&quot;,&quot;file&quot;:&quot;\\build\\test\\dashboard-display.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Using MicrosoftEdge\&quot;&quot;,&quot;fullTitle&quot;:&quot;Visual Tests Using MicrosoftEdge \&quot;before each\&quot; hook in \&quot;Using MicrosoftEdge\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3792,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const width = config.width;\nconst height = config.height;\nconst builder = new Builder().withCapabilities({\n    [Capability.LOGGING_PREFS]: { browser: &#x27;ALL&#x27; },\n    [Capability.BROWSER_NAME]: browser,\n});\nswitch (browser) {\n    case Browser.CHROME:\n        let chromeOptions = new ChromeOptions().windowSize({ width, height });\n        if (config.headless) {\n            chromeOptions = chromeOptions.addArguments(&#x27;--headless=new&#x27;);\n        }\n        builder.setChromeOptions(chromeOptions);\n        break;\n    case Browser.FIREFOX:\n        let ffOptions = new FirefoxOptions().windowSize({ width, height });\n        if (config.headless) {\n            ffOptions = ffOptions.addArguments(&#x27;--headless&#x27;);\n        }\n        builder.setFirefoxOptions(ffOptions);\n        break;\n    case Browser.EDGE:\n        let edgeOptions = new EdgeOptions().windowSize({ width, height });\n        if (config.headless) {\n            edgeOptions = edgeOptions.addArguments(&#x27;--headless&#x27;);\n        }\n        builder.setEdgeOptions(edgeOptions);\n        break;\n    default:\n        throw new Error(`Unknown browser ${browser}`);\n}\ndriver = await builder.build();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a764792-5908-48c6-a24e-d757c6a2ab8f&quot;,&quot;parentUUID&quot;:&quot;53d496ca-c30d-4f7f-93b6-25ae46884a2d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Using MicrosoftEdge\&quot;&quot;,&quot;fullTitle&quot;:&quot;Visual Tests Using MicrosoftEdge \&quot;after each\&quot; hook in \&quot;Using MicrosoftEdge\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:47,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (driver) {\n    const logTypes = await driver.manage().logs().getAvailableLogTypes();\n    for (const logType of logTypes) {\n        const log = await driver.manage().logs().get(logType);\n        if (log.length) {\n            const targetFile = logNameProvider(this.currentTest, browser, logType);\n            const fh = await fs.promises.open(targetFile, &#x27;w&#x27;);\n            const stream = fh.createWriteStream({ encoding: &#x27;utf8&#x27; });\n            for (const entry of log) {\n                stream.write(JSON.stringify(entry.toJSON()));\n                stream.write(&#x27;\\n&#x27;);\n            }\n            stream.end();\n            await fh.close();\n        }\n    }\n}\n//await sleep(100000)\nawait driver?.close();\ndriver = undefined;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad9c5b4b-8774-477d-aec1-fbba5268d850&quot;,&quot;parentUUID&quot;:&quot;53d496ca-c30d-4f7f-93b6-25ae46884a2d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;resources/list-js.xprjson&quot;,&quot;fullTitle&quot;:&quot;Visual Tests Using MicrosoftEdge resources/list-js.xprjson&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3772,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const driver = driverFixture();\nconst expectedBuffer = fs.promises.readFile(screenshotReference(testCase, browser));\nawait driver.get(server.getDashboardUrl(idx.toString()));\nconst dashboardEditor = new DashboardEditor(driver);\nawait dashboardEditor.dashboardPage.waitWidgetAreaExists();\n// If not reliable, add small safety wait.\nawait dashboardEditor.waitNotLoading();\nconst encodedString = await driver.takeScreenshot();\nif (config.outputsDir) {\n    await fs.promises.writeFile(screenshotResult(config.outputsDir, testCaseFile, browser), encodedString, &#x27;base64&#x27;);\n}\nconst actualPng = PNG.sync.read(Buffer.from(encodedString, &#x27;base64&#x27;));\nconst expectedPng = PNG.sync.read(await expectedBuffer);\nconst result = diffScreenshots(expectedPng, actualPng);\nif (result) {\n    const [diff, mismatchedPixels] = result;\n    if (config.outputsDir) {\n        await pipeline(diff.pack(), fs.createWriteStream(path.join(config.outputsDir, diffName(testCaseFile, browser))));\n    }\n    assert.equal(mismatchedPixels, 0);\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: 29 == 0&quot;,&quot;estack&quot;:&quot;AssertionError [ERR_ASSERTION]: 29 == 0\n    at Context.&lt;anonymous&gt; (file:///D:/Repos/chalk-it/e2e/build/test/dashboard-display.spec.js:79:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;,&quot;diff&quot;:&quot;- 29\n+ 0\n&quot;},&quot;uuid&quot;:&quot;33caae64-3523-4b13-8d97-0fe81fc2c93e&quot;,&quot;parentUUID&quot;:&quot;53d496ca-c30d-4f7f-93b6-25ae46884a2d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;33caae64-3523-4b13-8d97-0fe81fc2c93e&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3772,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:20000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:20000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.4.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;e2e&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\Repos\\chalk-it\\e2e\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\Repos\\chalk-it\\e2e\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>